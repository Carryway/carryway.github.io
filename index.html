<!DOCTYPE html>
<html lang="id" data-theme="dark">

<head>
  <!-- Meta tags  -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
  <meta name="referrer" content="same-origin" />

  <title>Carryflix</title>
  <script src="https://cdn.jsdelivr.net/gh/Carryway/file@master/shaka-player.ui.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Carryway/file@master/controls.css" />
  <style>
    body {
      background-color: #2b2b2b;
    }
  </style>
</head>

<body>
  <div>
    <div data-shaka-player-container="" shaka-controls="true" class="shaka-video-container"
      data-shaka-player-cast-receiver-id="8D8C71A7">
      <video poster="https://i.ibb.co/LpbbsYm/Untitled-1.png" data-shaka-player="" id="video"
        style="width: 100%; height: 100%" class="shaka-video"></video>
    </div>

    <script>

      async function init() {
        const video = document.getElementById('video');
        const ui = video['ui'];
        const controls = ui.getControls();
        const player = controls.getPlayer();
        const config = {
          'seekBarColors': {
            base: "#fff",
            buffered: "#fff",
            played: "#0078FF",
          },
          'volumeBarColors': {
            base: 'rgba(255, 255, 255, 0.5)',
            level: 'rgb(0, 119, 255)',
          }
        }
        ui.configure(config);

        player.configure({
          drm: {
            clearKeys: {
              // 'key-id-in-hex': 'key-in-hex',
              'fadd2720deff5925ab86df0819cd7775': 'f67ff08c7ebc779f6a6fcfc83835f65b'
            }
          }
        });
        //player.configure({drm:{servers:{'com.widevine.alpha':'https://license.dstv.com/widevine/getLicense?CrmId=afl&AccountId=afl&ContentId=SH2&SessionId=D3C00F885C24B9C6&Ticket=C839A8D71AB94299'}}}); 
        window.player = player;
        window.ui = ui;
        player.addEventListener('error', onPlayerErrorEvent);
        controls.addEventListener('error', onUIErrorEvent);
        try {
          await player.load('https://nyanv-live-cdn.mncnow.id/live/eds/Soccer-2/sa_dash_vmx/Soccer-2.mpd');
          console.log('The video has now been loaded!');
        } catch (error) { onPlayerError(error); }
      }
      function onPlayerErrorEvent(errorEvent) { onPlayerError(event.detail); }
      function onPlayerError(error) { console.error('Error code', error.code, 'object', error); }
      function onUIErrorEvent(errorEvent) { onPlayerError(event.detail); }
      function initFailed(errorEvent) { console.error('Unable to load the UI library!'); }
      document.addEventListener('shaka-ui-loaded', init);
      document.addEventListener('shaka-ui-load-failed', initFailed);

    </script>
</body>

</html>
