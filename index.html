<html>

<head>
  <meta name="referrer" content="no-referrer" />
  <script src="https://cdn.jsdelivr.net/gh/Carryway/file@master/shaka-player.ui.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Carryway/file@master/controls.css" />
  </script>
  <style>
    body {
      background-color: #242424;
    }
  </style>
  </script>
</head>

<body>
  <center>
    <div data-shaka-player-container style='width: 100%; height: 100%'>
      <video poster="https://i.ibb.co/LpbbsYm/Untitled-1.png" data-shaka-player="" id="video"
        style="width: 100%; height: 100%" class="shaka-video"></video>
    </div>
  </center>
  <script>
    const youtube_theme_manifestUri =
      "https://a39aivottlinear-a.akamaihd.net/OTTB/sin-nitro/live/clients/dash/enc/l8j2xgwt32/out/v1/fe72171ab2684ab8b9ee3e2ffcc9cff2/cenc.mpd";

    async function init() {
      const video = document.getElementById("video");
      const ui = video["ui"];
      const config = {
        seekBarColors: {
          base: "#676767",
          buffered: "#fff",
          played: "#0078FF",
        },
      };
      ui.configure(config);

      const controls = ui.getControls();
      const player = controls.getPlayer();

      player.configure({
        drm: {
          clearKeys: {
            // 'key-id-in-hex': 'key-in-hex',
            "159a2b4e1d2d7f16892d35d935a2fb34": "07809840dd0f511221ca78459167d1b3",
          },
        },
      });


      controls.addEventListener('caststatuschanged', onCastStatusChanged);

      function onCastStatusChanged(event) {
        const newCastStatus = event['newStatus'];
        // Handle cast status change
        console.log('The new cast status is: ' + newCastStatus);
      }

      try {
        await player.load(youtube_theme_manifestUri);
      } catch (error) { }

      // TODO find a way to do this without jquery. -___- or find a way to replace them CSS. maybe usering :after
      $(".shaka-overflow-menu-button").html("settings");
      $(".shaka-back-to-overflow-button .material-icons-round").html(
        "arrow_back_ios_new"
      );
    }
    document.addEventListener("shaka-ui-loaded", init);
  </script>
  <div id="floatads"
    style="width:100%;margin:auto; text-align:center;float:none;overflow:hidden; display:scroll;position:fixed; bottom:100px;z-index:9999"
    bis_skin_checked="1">
    <div bis_skin_checked="1"><a href="https://vouribere.com/4/7895537" id="close-floatads"
        onclick="document.getElementById('floatads').style.display = 'none';" style="cursor:pointer;"
        target="_blank"><img
          src="https://static.vecteezy.com/system/resources/previews/008/550/626/original/closed-shop-sign-transparent-png.png"
          width="70"></a>
      <div style="text-align:center;display:block;max-width:auto;height:auto;overflow:hidden;margin:auto"
        bis_skin_checked="1"></div>
    </div>
  </div>
  <script>
    // default options
    ConsoleBan.init()
    // custom options
    ConsoleBan.init({
      redirect: '/'
    })
  </script>
  <script>
    var allowedDomains = ["#", "#"];
  </script>
  <script>
    // Get the domain of the current page
    var currentDomain = location.hostname.split(".").slice(-2).join(".");

    // Check if the current domain is in the list of allowed domains
    if (allowedReferers.indexOf(document.referrer) === -1) {
      // Redirect to an error page if the current domain is not allowed
      window.location = "http://error.com/";
    }
  </script>
</body>

</html>
